(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{105:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__1PmjF",hidden:"modal-overlay_hidden__1gr4a"}},106:function(e,t,n){e.exports={popup:"popup_popup__1V0t2"}},108:function(e,t,n){e.exports={item:"constructor-item_item__2Jy72"}},109:function(e,t,n){e.exports={main:"home-page_main__3G4-L"}},125:function(e,t,n){},16:function(e,t,n){e.exports={main:"burger-constructor_main__3J7ab",scroll:"burger-constructor_scroll__2BOoU",item:"burger-constructor_item__3uLU8",section:"burger-constructor_section__SQG8I",total_order:"burger-constructor_total_order__1tC4L",constructor_item:"burger-constructor_constructor_item__3GmFC",constructor_item_pos_top:"burger-constructor_constructor_item_pos_top__uGO2D",constructor_item_pos_bottom:"burger-constructor_constructor_item_pos_bottom__2PkgO",constructor_item__row:"burger-constructor_constructor_item__row__xYcfP"}},200:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(37),s=n.n(c),i=n(25),o=n(31),u=(n(125),n(8)),l=n(5),d=n(7),j=n(30),m=n.n(j),b=n(0),p=function(){var e=!!Object(u.j)({path:"/",exact:!0}),t=!!Object(u.j)("/feed"),n=!!Object(u.j)("/profile");return Object(b.jsx)("header",{className:m.a.header,style:{backgroundColor:"#1C1C21"},children:Object(b.jsxs)("nav",{className:m.a.menu,children:[Object(b.jsxs)("div",{className:m.a.nav_div,children:[Object(b.jsxs)(d.b,{exact:!0,to:"/",activeClassName:m.a.active,className:"text text_type_main-default mt-4 mr-1 mb-4 ml-1 p-5 ",children:[Object(b.jsx)(l.BurgerIcon,{type:e?"primary":"secondary"})," ","\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"]}),Object(b.jsxs)(d.b,{to:"/feed",activeClassName:m.a.active,className:"text text_type_main-default mt-4 mr-1 mb-4 ml-1 p-5",children:[Object(b.jsx)(l.ListIcon,{type:t?"primary":"secondary"})," \u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"]})]}),Object(b.jsx)(d.a,{to:"/",className:m.a.logo,children:Object(b.jsx)(l.Logo,{})}),Object(b.jsxs)(d.b,{to:"/profile",activeClassName:m.a.active,className:"text text_type_main-default mt-4 mr-1 mb-4 ml-1 p-5",children:[Object(b.jsx)(l.ProfileIcon,{type:n?"primary":"secondary"})," \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"]})]})})},f=n(58),O=n.n(f),x=function(e){var t=e.children,n=e.onClose,r=e.title;return Object(b.jsx)("div",{className:O.a.container,children:Object(b.jsxs)("div",{className:"p-10  ".concat(O.a.inside),children:[Object(b.jsxs)("div",{className:O.a.header,children:[Object(b.jsx)("p",{className:"text text_type_main-large pt-3 pb-3",children:r}),Object(b.jsx)(l.CloseIcon,{onClick:n,type:"primary"})]}),t]})})},_=n(105),h=n.n(_),g=function(e){var t=e.onClose;return Object(b.jsx)("div",{className:h.a.overlay,onClick:t})},v=n(106),y=n.n(v),N=function(){return Object(i.d)()},E=i.e,S=n(4),R=n.n(S),k=n(9),w=n(2),C=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},I=function(e,t,n){var r=(n=Object(w.a)({path:"/"},n)).expires,a=new Date;"number"==typeof r&&r&&(a.setTime(a.getTime()+1e3*r),r=n.expires=+a),r&&a.toUTCString&&(n.expires=a.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var s in n){c+="; "+s;var i=n[s];!0!==i&&(c+="="+i)}document.cookie=c},T=function(e,t){return e?(null===e||void 0===e?void 0:e.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.price)}),0))+2*((null===t||void 0===t?void 0:t.price)||0):0},F=function(e,t){if(e&&0!==e.length&&t&&0!==t.length)return t.map((function(n){var r=null===e||void 0===e?void 0:e.filter((function(e){return e._id===n}))[0],a=t.filter((function(e){return e===n})).length;return r&&(r.count=a),r})).filter((function(e){return!!e}))},U=function(e){var t=new Date(e),n=(new Date).setHours(0,0,0,0),r=Math.ceil((n-t.getTime())/864e5),a=t.getHours()>9?t.getHours():"0".concat(t.getHours()),c=t.getMinutes()>9?t.getMinutes():"0".concat(t.getMinutes());return"".concat(function(e){return 0===e?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f":1===e?"\u0412\u0447\u0435\u0440\u0430":"".concat(e," \u0434\u043d\u044f(-\u0435\u0439) \u043d\u0430\u0437\u0430\u0434")}(r),", ").concat(a,":").concat(c," i-GMT+").concat(-1*t.getTimezoneOffset()/60)},D=function(e){if(e&&0!==e.length)return{firstColumn:e.slice(0,10),secondColumn:e.slice(10,20)}},q="https://norma.nomoreparties.space/api",L={"Content-Type":"application/json"},G=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},A=function(){var e=Object(k.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/ingredients"));case 2:return t=e.sent,e.next=5,G(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(q,"/orders"),{method:"POST",headers:Object(w.a)(Object(w.a)({},L),{},{authorization:"Bearer "+C("token")}),body:JSON.stringify({ingredients:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(k.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/orders/").concat(t),{method:"GET",headers:L});case 2:return n=e.sent,e.next=5,G(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(k.a)(R.a.mark((function e(t,n,r){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/auth/register"),{method:"POST",headers:L,body:JSON.stringify({email:t,password:n,name:r})});case 2:return a=e.sent,e.next=5,G(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(R.a.mark((function e(t,n){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/auth/login"),{method:"POST",headers:L,body:JSON.stringify({email:t,password:n})});case 2:return r=e.sent,e.next=5,G(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(k.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/password-reset"),{method:"POST",headers:L,body:JSON.stringify({email:t})});case 2:return n=e.sent,e.next=5,G(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(k.a)(R.a.mark((function e(t,n){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/password-reset/reset"),{method:"POST",headers:L,body:JSON.stringify({password:t,token:n})});case 2:return r=e.sent,e.next=5,G(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(k.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/auth/logout"),{method:"POST",headers:L,body:JSON.stringify({token:localStorage.getItem("refreshToken")})});case 2:return t=e.sent,e.next=5,G(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(k.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(q,"/auth/token"),{method:"POST",headers:L,body:JSON.stringify({token:localStorage.getItem("refreshToken")})});case 2:return t=e.sent,e.next=5,G(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(k.a)(R.a.mark((function e(t,n){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:return r=e.sent,e.next=6,G(r);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(0),"jwt expired"!==e.t0.message){e.next=26;break}return e.next=14,K();case 14:return a=e.sent,localStorage.setItem("refreshToken",a.refreshToken),I("token",a.accessToken.split("Bearer ")[1]),n.headers.authorization=a.accessToken,e.next=20,fetch(t,n);case 20:return c=e.sent,e.next=23,G(c);case 23:return e.abrupt("return",e.sent);case 26:return e.abrupt("return",Promise.reject(e.t0));case 27:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(k.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(q,"/auth/user"),{method:"GET",headers:Object(w.a)(Object(w.a)({},L),{},{authorization:"Bearer "+C("token")})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(k.a)(R.a.mark((function e(t,n,r){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(q,"/auth/user"),{method:"PATCH",headers:Object(w.a)(Object(w.a)({},L),{},{authorization:"Bearer "+C("token")}),body:JSON.stringify({name:t,email:n,password:r})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y="GET_INGREDIENTS_REQUEST",Z="GET_INGREDIENTS_SUCCESS",$="GET_INGREDIENTS_FAILURE",ee="ADD_CONSTRUCTOR_ITEM",te="DELETE_CONSTRUCTOR_ITEM",ne="REORDER_CONSTRUCTOR_ITEMS",re="DELETE_ORDER",ae="GET_ORDER_DETAILS_REQUEST",ce="GET_ORDER_DETAILS_SUCCESS",se="GET_ORDER_DETAILS_FAILURE",ie="SET_ORDER_INVALID",oe="DELETE_ORDER_DETAILS",ue="GET_ORDER_REQUEST",le="GET_ORDER_SUCCESS",de="GET_ORDER_FAILURE",je=document.getElementById("modal"),me=function(e){var t=e.children,n=e.title,a=Object(u.g)(),c=N(),i=E((function(e){return e.order})).isOrdered,o=function(){a.goBack(),i&&(c({type:re}),c({type:oe,payload:!1}))},l=function(e){27===e.keyCode&&o()};return Object(r.useEffect)((function(){return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}}),[]),s.a.createPortal(Object(b.jsxs)("div",{className:y.a.popup,id:"popup",children:[Object(b.jsx)(x,{onClose:o,title:n,children:t}),Object(b.jsx)(g,{onClose:o})]}),je)},be=n(32),pe=n.n(be),fe=function(){var e=Object(u.i)().id,t=E((function(e){return e.burgerIngredients.ingredients})).find((function(t){return t._id===e}));return Object(b.jsx)(b.Fragment,{children:t&&Object(b.jsxs)("div",{className:pe.a.details,children:[Object(b.jsx)("img",{src:t.image_large,alt:t.name,className:"mb-4"}),Object(b.jsx)("p",{className:"text text_type_main-medium",children:t.name}),Object(b.jsxs)("p",{className:"text text_type_main-default mt-8 mb-8",children:["\u0421\u0443\u043f\u0435\u0440 ",t.name," \u0434\u043b\u044f \u0444\u0438\u0440\u043c\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u0441\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0431\u0443\u0440\u0433\u0435\u0440\u043e\u0432, \u043d\u0430\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0445 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0441\u0435\u0439 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439."]}),Object(b.jsxs)("div",{className:"text_color_inactive ".concat(pe.a.nutrition),children:[Object(b.jsxs)("div",{className:"mr-5 ".concat(pe.a.item),children:[Object(b.jsx)("span",{className:"text text_type_main-default",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(b.jsx)("span",{className:"text text_type_digits-default mt-4",children:t.calories})]}),Object(b.jsxs)("div",{className:"mr-5 ".concat(pe.a.item),children:[Object(b.jsx)("span",{className:"text text_type_main-default",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(b.jsx)("span",{className:"text text_type_digits-default mt-4",children:t.proteins})]}),Object(b.jsxs)("div",{className:"mr-5 ".concat(pe.a.item),children:[Object(b.jsx)("span",{className:"text text_type_main-default",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(b.jsx)("span",{className:"text text_type_digits-default mt-4",children:t.fat})]}),Object(b.jsxs)("div",{className:" ".concat(pe.a.item),children:[Object(b.jsx)("span",{className:"text text_type_main-default",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(b.jsx)("span",{className:"text text_type_digits-default mt-4",children:t.carbohydrates})]})]})]})})},Oe=n.p+"static/media/done.dc2f52b0.png",xe=n(46),_e=n.n(xe),he=n(33),ge=n.n(he),ve=function(){return Object(b.jsxs)("div",{className:ge.a.loading,children:[Object(b.jsx)("div",{className:ge.a.dot}),Object(b.jsx)("div",{className:ge.a.dot}),Object(b.jsx)("div",{className:ge.a.dot}),Object(b.jsx)("div",{className:ge.a.dot}),Object(b.jsx)("div",{className:ge.a.dot})]})},ye=function(){var e=E((function(e){return e.order})),t=e.orderNumber,n=e.isOrderInvalid;return 0===E((function(e){return e.burgerConstructor})).burgerStuffing.length?Object(b.jsxs)("div",{className:"text text_type_main-medium pb-6  ".concat(_e.a.error_text),children:[Object(b.jsx)("p",{children:" \u041e\u0439! "}),Object(b.jsx)("p",{children:" \u0412\u044b \u0437\u0430\u0431\u044b\u043b\u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437! "})]}):n?Object(b.jsxs)("div",{className:"text text_type_main-medium pb-6  ".concat(_e.a.error_text),children:[Object(b.jsx)("p",{children:" \u041e\u0439! "}),Object(b.jsx)("p",{children:" \u0412 \u0431\u0443\u0440\u0433\u0435\u0440\u0435 \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0431\u0443\u043b\u043a\u0438! "})]}):t?Object(b.jsxs)("div",{className:_e.a.main,children:[Object(b.jsx)("span",{className:"text text_type_digits-large mt-4 mb-8 ".concat(_e.a.shadow),children:t}),Object(b.jsx)("span",{className:"text text_type_main-medium mb-5",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(b.jsx)("img",{src:Oe,className:"mt-10 mb-10",alt:"done icon"}),Object(b.jsx)("span",{className:"text text_type_main-default mt-5 mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(b.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}):Object(b.jsx)("div",{className:"m-10",children:Object(b.jsx)(ve,{})})},Ne=n(113),Ee=n(206),Se=n(12),Re=n(59),ke=n.n(Re),we=n(207),Ce=function(e){var t=E((function(e){return e.burgerConstructor})),n=t.burgerStuffing,r=t.bun,a="bun"===e.type?(null===r||void 0===r?void 0:r._id)===e._id?1:0:n.reduce((function(t,n){return n.item._id===e._id?++t:t}),0),c=Object(we.a)({type:"ingredient",item:e,collect:function(e){return{isDrop:e.didDrop()}}}),s=Object(Se.a)(c,2),i=(s[0].isDrop,s[1]);return Object(b.jsxs)("div",{className:" mr-3 ml-3 mb-8 ".concat(ke.a.item),ref:i,children:[a>0&&Object(b.jsx)(l.Counter,{count:a,size:"small"}),Object(b.jsx)("img",{src:e.image,alt:e.name,className:"mr-4 mb-1 ml-4"}),Object(b.jsxs)("p",{className:"text text_type_digits-default ".concat(ke.a.price),children:[e.price,Object(b.jsx)(l.CurrencyIcon,{type:"primary"})]}),Object(b.jsx)("p",{className:"text text_type_main-default mt-1 pr-1 pb-6 pl-1 ".concat(ke.a.title),children:e.name})]})},Ie=function(e){var t=e.titles,n=e.setCurrent,r=e.current;return Object(b.jsx)("div",{style:{display:"flex"},className:"text text_type_main-default",children:t.map((function(e){return Object(b.jsx)(l.Tab,{value:e.type,active:r===e.type,onClick:n,children:e.name},e.key)}))})},Te=n(47),Fe=n.n(Te),Ue=n(60),De=function(){var e=Object(u.h)(),t=Object(r.useState)("bun"),n=Object(Se.a)(t,2),a=n[0],c=n[1],s=E((function(e){return e.burgerIngredients.ingredients})),i=[{name:"\u0411\u0443\u043b\u043a\u0438",key:"1",type:"bun"},{name:"\u0421\u043e\u0443\u0441\u044b",key:"2",type:"sauce"},{name:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",key:"3",type:"main"}],o=Object(Ue.a)({threshold:.8}),l=Object(Se.a)(o,2),j=l[0],m=l[1],p=Object(Ue.a)({threshold:.7}),f=Object(Se.a)(p,2),O=f[0],x=f[1],_=Object(Ue.a)({threshold:.3}),h=Object(Se.a)(_,2),g=h[0],v=h[1];return Object(b.jsxs)("section",{className:Fe.a.container,children:[Object(b.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(b.jsx)(Ie,{titles:i,setCurrent:c,current:a}),Object(b.jsx)("div",{className:"mt-8 ".concat(Fe.a.scroll_menu),onScroll:function(){m&&c("bun"),x&&!m&&c("sauce"),v&&!x&&c("main")},children:i.map((function(t){var n=t.name,r=t.key,a=t.type,c=s.filter((function(e){return e.type===a}));return Object(b.jsxs)("div",{ref:"bun"===a?j:"sauce"===a?O:g,children:[Object(b.jsx)("h2",{className:"text text_type_main-medium mt-2 mb-6",children:n}),Object(b.jsx)("ul",{className:"mr-1 ml-1 ".concat(Fe.a.menu),children:c.map((function(t){return Object(b.jsx)("li",{children:Object(b.jsx)(d.a,{to:{pathname:"/ingredients/".concat(t._id),state:{background:e}},className:Fe.a.link,children:Object(b.jsx)(Ce,Object(w.a)({},t))})},t._id)}))})]},r)}))})]})},qe=n(16),Le=n.n(qe),Ge=n(208),Ae=n(108),Pe=n.n(Ae),Be=function(e){var t=e.item,n=e.id,r=e.findItem,a=e.moveItem,c=Object(i.d)(),s=r(n).index,o=Object(we.a)((function(){return{type:"item",item:{id:n,originalIndex:s},collect:function(e){return{isDrag:e.isDragging()}},end:function(e,t){var n=e.id,r=e.originalIndex;t.didDrop()||a(n,r)}}}),[n,s,a]),u=Object(Se.a)(o,2),d=u[0].isDrag,j=u[1],m=Object(Ge.a)({accept:"item",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var c=e.id;if(c!==n){var s=r(n).index;a(c,s)}}},[r,a]),p=Object(Se.a)(m,2),f=(p[0].handlerId,p[1]),O=d?0:1;return Object(b.jsxs)("li",{ref:function(e){return j(f(e))},style:{opacity:O},className:Pe.a.item,children:[Object(b.jsx)(l.DragIcon,{type:"primary"}),Object(b.jsx)(l.ConstructorElement,{text:t.item.name,thumbnail:t.item.image_mobile,price:t.item.price,isLocked:!1,handleClose:function(e){return function(){c({type:te,payload:e})}}(t)})]})},Me=n(14),ze=function(){var e=N(),t=Object(u.h)(),n=Object(u.g)(),a=localStorage.getItem("refreshToken"),c=E((function(e){return e.burgerConstructor})),s=c.bun,i=c.burgerStuffing,o=i.map((function(e){return e.item})),d=T(o,s);s&&(o.unshift(s),o.push(s));var j=function(){e({type:oe,payload:!0})},m=Object(r.useCallback)((function(e){var t=i.filter((function(t){return t.key===e}))[0];return{ingredient:t,index:i.indexOf(t)}}),[i]),p=Object(r.useCallback)((function(t,n){var r=m(t).index;e({type:ne,payload:{toIndex:r,fromIndex:n}})}),[m,i,e]),f=Object(Ge.a)({accept:"ingredient",drop:function(t){!function(t){e({type:ee,payload:t})}(t)},collect:function(e){return{isHover:e.isOver()}}}),O=Object(Se.a)(f,2),x=O[0].isHover,_=O[1],h=Object(Ge.a)((function(){return{accept:"item"}})),g=Object(Se.a)(h,2)[1],v=x?"#61616b":"#2f2f37",y=Object(b.jsx)("div",{className:"".concat(Le.a.constructor_item_pos_top," ").concat(Le.a.constructor_item),style:{background:v},children:Object(b.jsx)("span",{className:Le.a.constructor_item__row,children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"})}),S=Object(b.jsx)("div",{className:"".concat(Le.a.constructor_item_pos_bottom," ").concat(Le.a.constructor_item),style:{background:v},children:Object(b.jsx)("span",{className:Le.a.constructor_item__row,children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"})}),w=Object(b.jsx)("div",{className:"".concat(Le.a.constructor_item," ").concat(Le.a.constructor_item),style:{background:v},children:Object(b.jsx)("span",{className:Le.a.constructor_item__row,children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u0430\u0447\u0438\u043d\u043a\u0443"})});return Object(b.jsxs)("section",{ref:_,className:Le.a.section,id:"container",children:[Object(b.jsxs)("div",{className:Le.a.main,children:[s?Object(b.jsx)(l.ConstructorElement,{text:"".concat(s.name," (\u0432\u0435\u0440\u0445)"),type:"top",thumbnail:s.image_mobile,price:s.price,isLocked:!0}):y,i.length?Object(b.jsx)("ul",{ref:g,className:"mt-4 mb-2 ".concat(Le.a.scroll),children:i.map((function(e){return Object(b.jsx)("div",{className:Le.a.item,children:Object(b.jsx)(Be,{id:e.key,item:e,findItem:m,moveItem:p})},e.key)}))}):w,s?Object(b.jsx)(l.ConstructorElement,{text:"".concat(null===s||void 0===s?void 0:s.name," (\u043d\u0438\u0437)"),type:"bottom",thumbnail:null===s||void 0===s?void 0:s.image_mobile,price:null===s||void 0===s?void 0:s.price,isLocked:!0}):S]}),Object(b.jsxs)("div",{className:"m-5 pr-4 ".concat(Le.a.total_order),children:[Object(b.jsxs)("span",{className:"text text_type_digits-medium pr-10",children:[d," ",Object(b.jsx)(l.CurrencyIcon,{type:"primary"})]}),Object(b.jsx)(l.Button,{type:"primary",size:"large",onClick:function(){if(a){var r=!!s,c=o.map((function(e){return e._id}));r&&c.length>2?(e({type:ie,payload:!r}),e((i=c,function(){var e=Object(k.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ae}),e.prev=1,e.next=4,P(i);case 4:if(!(n=e.sent)||!n.success){e.next=9;break}t({type:ce,payload:n.order.number}),e.next=10;break;case 9:throw new Error("Response status is not OK");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t({type:se}),console.log("There is a problem with your Fetch request",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())),n.push({pathname:"/order",state:{background:t}}),j()):(e({type:ie,payload:!r}),n.push({pathname:"/order",state:{background:t}}))}else e(Object(Me.d)("/login"));var i},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},Je=n(109),Qe=n.n(Je),He=function(){return Object(b.jsx)("div",{className:Qe.a.main,children:Object(b.jsxs)(Ee.a,{backend:Ne.a,children:[Object(b.jsx)(De,{}),Object(b.jsx)(ze,{})]})})},Ke="REGISTER_REQUEST",We="REGISTER_SUCCESS",Ve="REGISTER_FAILURE",Xe="LOGIN_REQUEST",Ye="LOGIN_SUCCESS",Ze="LOGIN_FAILURE",$e="LOGOUT_REQUEST",et="LOGOUT_SUCCESS",tt="LOGOUT_FAILURE",nt="FORGOT_PASSWORD_REQUEST",rt="FORGOT_PASSWORD_SUCCESS",at="FORGOT_PASSWORD_FAILURE",ct="RESET_PASSWORD_REQUEST",st="RESET_PASSWORD_SUCCESS",it="RESET_PASSWORD_FAILURE",ot="REFRESH_TOKEN_REQUEST",ut="REFRESH_TOKEN_SUCCESS",lt="REFRESH_TOKEN_FAILURE",dt="GET_USER_REQUEST",jt="GET_USER_SUCCESS",mt="GET_USER_FAILURE",bt="UPDATE_USER_REQUEST",pt="UPDATE_USER_SUCCESS",ft="UPDATE_USER_FAILURE",Ot=function(){return function(){var e=Object(k.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:dt}),e.prev=1,e.next=4,V();case 4:if(!(n=e.sent)||!n.success){e.next=9;break}t({type:jt,payload:{user:n.user}}),e.next=10;break;case 9:throw new Error("Getting user is failed");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t({type:mt}),console.log("There is a problem with your request: ",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},xt=n(34),_t=n.n(xt),ht=function(e){var t=e.title,n=e.links,a=e.type,c=N(),s=Object(r.useState)(""),i=Object(Se.a)(s,2),o=i[0],u=i[1],d=Object(r.useState)(""),j=Object(Se.a)(d,2),m=j[0],p=j[1],f=Object(r.useState)(""),O=Object(Se.a)(f,2),x=O[0],_=O[1],h=function(e){var t,n;e.preventDefault(),c((t=o,n=m,function(){var e=Object(k.a)(R.a.mark((function e(r){var a,c,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:Xe}),e.prev=1,e.next=4,z(t,n);case 4:if(!(a=e.sent)||!a.success){e.next=13;break}c=a.accessToken.split("Bearer ")[1],s=a.refreshToken,I("token",c),localStorage.setItem("refreshToken",s),r({type:Ye,payload:{user:a.user}}),e.next=14;break;case 13:throw new Error("User signIn is failed");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),r({type:Ze}),console.log("There is a problem with your request: ",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()))},g=function(e){var t,n,r;e.preventDefault(),c((t=o,n=m,r=x,function(){var e=Object(k.a)(R.a.mark((function e(a){var c,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:Ke}),e.prev=1,e.next=4,M(t,n,r);case 4:if(!(c=e.sent)||!c.success){e.next=13;break}s=c.accessToken.split("Bearer ")[1],i=c.refreshToken,I("token",s),localStorage.setItem("refreshToken",i),a({type:We,payload:{user:c.user}}),e.next=14;break;case 13:throw new Error("User registration failed");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),a({type:Ve}),console.log("There is a problem with your request: ",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()))},v=function(e){var t;e.preventDefault(),c((t=o,function(){var e=Object(k.a)(R.a.mark((function e(n){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:nt}),e.prev=1,e.next=4,J(t);case 4:if(!(r=e.sent)||!r.success){e.next=10;break}n({type:rt}),n(Object(Me.d)("/reset-password")),e.next=11;break;case 10:throw new Error("Reset email can't be sent");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),n({type:at}),console.log("There is a problem with your request: ",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()))},y=function(e){var t,n;e.preventDefault(),c((t=m,n=x,function(){var e=Object(k.a)(R.a.mark((function e(r){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ct}),e.prev=1,e.next=4,Q(t,n);case 4:if(!(a=e.sent)||!a.success){e.next=9;break}r(Object(Me.d)("/login")),e.next=10;break;case 9:throw new Error("Reset password is failed");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),r({type:it}),console.log("There is a problem with your request: ",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))},E=function(){switch(a){case"login":return Object(b.jsxs)("form",{onSubmit:h,className:_t.a.form,children:[Object(b.jsx)(l.Input,{type:"email",placeholder:"E-mail",value:o,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)(l.PasswordInput,{value:m,name:"password",onChange:function(e){return p(e.target.value)}}),Object(b.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]});case"register":return Object(b.jsxs)("form",{onSubmit:g,className:_t.a.form,children:[Object(b.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:x,onChange:function(e){return _(e.target.value)}}),Object(b.jsx)(l.Input,{type:"email",placeholder:"E-mail",value:o,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)(l.PasswordInput,{value:m,name:"password",onChange:function(e){return p(e.target.value)}}),Object(b.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]});case"forgot-password":return Object(b.jsxs)("form",{onSubmit:v,className:_t.a.form,children:[Object(b.jsx)(l.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",value:o,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]});case"reset-password":return Object(b.jsxs)("form",{onSubmit:y,className:_t.a.form,children:[Object(b.jsx)(l.Input,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",value:m,onChange:function(e){return p(e.target.value)},icon:"ShowIcon"}),Object(b.jsx)(l.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",value:x,onChange:function(e){return _(e.target.value)}}),Object(b.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}}()||"";return Object(b.jsxs)("div",{className:_t.a.main,children:[Object(b.jsx)("span",{className:"text text_type_main-medium mb-3",children:t}),Object(b.jsx)("div",{children:E}),Object(b.jsx)("div",{className:_t.a.link,children:n})]})},gt=function(){var e=Object(u.h)(),t=E((function(e){return e.user.email})),n=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"text text_type_main-default",children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(b.jsx)(d.a,{to:{pathname:"/register"},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(b.jsxs)("span",{className:"text text_type_main-default",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(b.jsx)(d.a,{to:{pathname:"/forgot-password"},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]});if(t){var r=(e.state||{from:{pathname:"/"}}).from;return Object(b.jsx)(u.a,{to:r})}return Object(b.jsx)(ht,{title:"\u0412\u0445\u043e\u0434",links:n,type:"login"})},vt=function(){var e=N(),t=E((function(e){return e.user.email})),n=E((function(e){return e.user})).getUserRequest,a=Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("span",{className:"text text_type_main-default",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(b.jsx)(d.a,{to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})});return Object(r.useEffect)((function(){e(Ot())}),[]),n?Object(b.jsx)(ve,{}):t&&localStorage.getItem("refreshToken")?Object(b.jsx)(u.a,{to:{pathname:"/"}}):Object(b.jsx)(ht,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",links:a,type:"register"})},yt=function(){var e=N(),t=E((function(e){return e.user.email})),n=E((function(e){return e.user})).getUserRequest;if(Object(r.useEffect)((function(){e(Ot())}),[]),n)return Object(b.jsx)(ve,{});var a=Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("span",{className:"text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(b.jsx)(d.a,{to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})});return t&&localStorage.getItem("refreshToken")?Object(b.jsx)(u.a,{to:{pathname:"/"}}):Object(b.jsx)(ht,{title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",links:a,type:"forgot-password"})},Nt=function(){var e=E((function(e){return e.user.forgotSuccess})),t=localStorage.getItem("refreshToken"),n=E((function(e){return e.user.email})),r=Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("span",{className:"text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(b.jsx)(d.a,{to:{pathname:"/login"},children:"\u0412\u043e\u0439\u0442\u0438"})]})});return n&&t?Object(b.jsx)(u.a,{to:{pathname:"/"}}):e?Object(b.jsx)(ht,{title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",links:r,type:"reset-password"}):Object(b.jsx)(u.a,{to:{pathname:"/forgot-password"}})},Et=n(61),St=n.n(Et),Rt=n(27),kt=n.n(Rt),wt={done:"#00CCCC",pending:"#F2F2F3",cancel:"#E52B1A"},Ct=function(e){var t=e.item,n=e.isStatus,r=t.ingredients,a=t.status,c=t.name,s=t.createdAt,i=t.number,o=E((function(e){return e.burgerIngredients.ingredients})),u=F(o,r),d=U(s),j=T(u);return Object(b.jsxs)("div",{className:" mb-5 mr-2 ".concat(kt.a.feed_item),children:[Object(b.jsxs)("div",{className:" p-6 ".concat(kt.a.numbers),children:[Object(b.jsxs)("span",{className:"text text_type_digits-default",children:["#",i]}),Object(b.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:d})]}),Object(b.jsxs)("div",{className:" pl-6 pb-6 pr-6 ".concat(kt.a.name),children:[Object(b.jsx)("span",{className:"text text_type_main-medium",children:c}),n&&Object(b.jsx)("span",{className:"text text_type_main-default",style:{color:wt[a]},children:a})]}),Object(b.jsxs)("div",{className:"pl-6 pr-6 pb-6 ".concat(kt.a.info),children:[Object(b.jsx)("ul",{className:"".concat(kt.a.ingredients),children:null===u||void 0===u?void 0:u.map((function(e,t){var n=5-t;return t<5?Object(b.jsx)("li",{className:"".concat(kt.a.ingredient),style:{zIndex:n},children:Object(b.jsx)("img",{src:e.image_mobile,alt:e.name})},t):5===t?Object(b.jsxs)("li",{className:"".concat(kt.a.ingredient),style:{zIndex:n},children:[Object(b.jsx)("img",{src:e.image_mobile,alt:e.name,style:{opacity:u.length>6?"0.4":"1"}}),u.length>6&&Object(b.jsxs)("span",{children:["+",u.length-t-1]})]},t):void 0}))}),Object(b.jsxs)("div",{className:"text text_type_digits-default ".concat(kt.a.price),children:[Object(b.jsx)("div",{className:"mr-2",children:j}),Object(b.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})},It=n(48),Tt=n.n(It),Ft=function(){var e=Object(u.h)(),t=E((function(e){return e.wsFeed.messages}));return Object(b.jsxs)("section",{className:"".concat(Tt.a.main),children:[Object(b.jsx)("div",{className:"text text_type_main-large ".concat(Tt.a.name),children:Object(b.jsx)("span",{children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(b.jsx)("ul",{className:"".concat(Tt.a.scroll),children:(null===t||void 0===t?void 0:t.orders)&&(null===t||void 0===t?void 0:t.orders.map((function(t,n){return Object(b.jsx)("li",{children:Object(b.jsx)(d.a,{to:{pathname:"/feed/".concat(t.number),state:{background:e}},className:Tt.a.link,children:Object(b.jsx)(Ct,{item:t,isStatus:!1})})},n)})))})]})},Ut=n(22),Dt=n.n(Ut),qt=function(){var e=E((function(e){return e.wsFeed.messages})),t=function(e){if(e&&0!==e.length)return e.reduce((function(e,t){return"done"===t.status&&e.done.push(t.number),"pending"===t.status&&e.pending.push(t.number),e}),{done:[],pending:[]})}(null===e||void 0===e?void 0:e.orders),n=D(null===t||void 0===t?void 0:t.done),r=D(null===t||void 0===t?void 0:t.pending);return Object(b.jsxs)("div",{className:Dt.a.main,children:[Object(b.jsxs)("div",{className:"ml-4 ".concat(Dt.a.info),children:[Object(b.jsxs)("div",{className:" ".concat(Dt.a.ready),children:[Object(b.jsx)("span",{className:"text text_type_main-medium",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(b.jsxs)("div",{className:"text text_type_digits-default mt-2 ".concat(Dt.a.numbers," ").concat(Dt.a.color),children:[Object(b.jsx)("ul",{children:n&&n.firstColumn.map((function(e,t){return Object(b.jsx)("li",{children:e},t)}))}),Object(b.jsx)("ul",{children:n&&n.secondColumn.map((function(e,t){return Object(b.jsx)("li",{children:e},t)}))})]})]}),Object(b.jsxs)("div",{className:" ml-8 ".concat(Dt.a.preparing),children:[Object(b.jsx)("span",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(b.jsxs)("div",{className:"text text_type_digits-default mt-2 ".concat(Dt.a.numbers),children:[Object(b.jsx)("ul",{children:r&&r.firstColumn.map((function(e,t){return Object(b.jsx)("li",{children:e},t)}))}),Object(b.jsx)("ul",{children:r&&r.secondColumn.map((function(e,t){return Object(b.jsx)("li",{children:e},t)}))})]})]})]}),Object(b.jsxs)("div",{className:"ml-4 mt-3 ".concat(Dt.a.total),children:[Object(b.jsx)("span",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(b.jsx)("span",{className:"text text_type_digits-large ".concat(Dt.a.light),children:null===e||void 0===e?void 0:e.total})]}),Object(b.jsxs)("div",{className:"ml-4 mt-10 ".concat(Dt.a.total),children:[Object(b.jsx)("span",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(b.jsx)("span",{className:"text text_type_digits-large ".concat(Dt.a.light),children:null===e||void 0===e?void 0:e.totalToday})]})]})},Lt={wsInit:"FEED/INIT_CONNECTION",wsClose:"FEED/CLOSE_CONNECTION",wsSendMessage:"",onOpen:"FEED/CONNECTION_SUCCESS",onClose:"FEED/CONNECTION_CLOSED",onError:"FEED/CONNECTION_ERROR",onMessage:"FEED/GET_MESSAGE"},Gt=function(){var e=N(),t=E((function(e){return e.wsFeed.messages}));return Object(r.useEffect)((function(){return e({type:Lt.wsInit}),function(){e({type:Lt.wsClose})}}),[e]),t?Object(b.jsx)("div",{className:St.a.main,children:Object(b.jsxs)("div",{className:St.a.container,children:[Object(b.jsx)(Ft,{}),Object(b.jsx)(qt,{})]})}):Object(b.jsx)("div",{className:St.a.loader,children:Object(b.jsx)(ve,{})})},At=n(62),Pt=n.n(At),Bt=function(){return Object(b.jsx)("div",{className:Pt.a.notfound_id,children:Object(b.jsxs)("div",{className:Pt.a.notfound,children:[Object(b.jsxs)("div",{className:Pt.a.notfound_404,children:[Object(b.jsx)("h1",{children:"404"}),Object(b.jsx)("h2",{children:"Page not found"})]}),Object(b.jsx)(d.a,{to:{pathname:"/"},children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})})},Mt=n(24),zt=n.n(Mt),Jt=n(86),Qt=n.n(Jt),Ht=function(){var e=N(),t=E((function(e){return e.user.name})),n=E((function(e){return e.user.email})),a=Object(r.useState)(n),c=Object(Se.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(Se.a)(o,2),d=u[0],j=u[1],m=Object(r.useState)(t),p=Object(Se.a)(m,2),f=p[0],O=p[1],x=Object(r.useState)(!1),_=Object(Se.a)(x,2),h=_[0],g=_[1],v=Object(r.useState)(!1),y=Object(Se.a)(v,2),S=y[0],w=y[1],C=Object(r.useState)(!1),I=Object(Se.a)(C,2),T=I[0],F=I[1],U=T?"CloseIcon":"EditIcon",D=h?"CloseIcon":"EditIcon",q=S?"CloseIcon":"EditIcon",L=f!==t||s!==n||d.length>0;return Object(b.jsxs)("form",{className:"".concat(Qt.a.main),onSubmit:function(t){var n,r,a;t.preventDefault(),e((n=f,r=s,a=d,function(){var e=Object(k.a)(R.a.mark((function e(t){var c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:bt}),e.prev=1,e.next=4,X(n,r,a);case 4:if(!(c=e.sent)||!c.success){e.next=9;break}t({type:pt,payload:{user:c.user}}),e.next=10;break;case 9:throw new Error("Updating user is failed");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t({type:ft}),console.log("There is a problem with your request: ",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("div",{className:"mb-6 ",children:Object(b.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:f,onChange:function(e){return O(e.target.value)},onFocus:function(){return F(!0)},onBlur:function(){return F(!1)},onIconClick:function(){return O(t)},icon:U})}),Object(b.jsx)("div",{className:"mb-6 ",children:Object(b.jsx)(l.Input,{type:"email",placeholder:"Email",value:s,onChange:function(e){return i(e.target.value)},onFocus:function(){return g(!0)},onBlur:function(){return g(!1)},onIconClick:function(){return i(n)},icon:D})}),Object(b.jsx)("div",{children:Object(b.jsx)(l.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:d,onChange:function(e){return j(e.target.value)},onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},onIconClick:function(){return j("")},icon:q})}),L?Object(b.jsxs)("div",{className:"mt-6",children:[Object(b.jsx)("span",{className:Qt.a.button,onClick:function(e){e.preventDefault(),O(t),i(n),j("")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(b.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):null]})},Kt={wsInit:"ORDERS/INIT_CONNECTION",wsClose:"ORDERS/CLOSE_CONNECTION",wsSendMessage:"",onOpen:"ORDERS/CONNECTION_SUCCESS",onClose:"ORDERS/CONNECTION_CLOSED",onError:"ORDERS/CONNECTION_ERROR",onMessage:"ORDERS/GET_MESSAGE"},Wt=n(49),Vt=n.n(Wt),Xt=function(){var e=Object(u.h)(),t=N();Object(r.useEffect)((function(){return t({type:Kt.wsInit}),function(){t({type:Kt.wsClose})}}),[t]);var n=E((function(e){return e.wsOrders.messages}));return n?Object(b.jsx)("section",{className:"".concat(Vt.a.main),children:Object(b.jsx)("ul",{className:"".concat(Vt.a.scroll),children:(null===n||void 0===n?void 0:n.orders)&&(null===n||void 0===n?void 0:n.orders.map((function(t,n){return Object(b.jsx)("li",{children:Object(b.jsx)(d.a,{to:{pathname:"/profile/orders/".concat(t.number),state:{background:e}},className:Vt.a.link,children:Object(b.jsx)(Ct,{item:t,isStatus:!0})})},n)})))})}):Object(b.jsx)("div",{className:Vt.a.loader,children:Object(b.jsx)(ve,{})})},Yt=function(){var e=N();return Object(b.jsxs)("div",{className:"".concat(zt.a.main),children:[Object(b.jsxs)("div",{className:"pt-6 mr-10 ".concat(zt.a.menu),children:[Object(b.jsx)(d.b,{exact:!0,to:"/profile",className:"text text_type_main-medium text_color_inactive ".concat(zt.a.nav),activeClassName:zt.a.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(b.jsx)(d.b,{to:"/profile/orders",className:"text text_type_main-medium text_color_inactive ".concat(zt.a.nav),activeClassName:zt.a.active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(b.jsx)(d.b,{exact:!0,to:"/login",className:"text text_type_main-medium text_color_inactive ".concat(zt.a.nav),activeClassName:zt.a.active,onClick:function(){e(function(){var e=Object(k.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:$e}),e.prev=1,e.next=4,H();case 4:if(!(n=e.sent)||!n.success){e.next=12;break}I("token",!1,{expires:-1}),localStorage.removeItem("refreshToken"),t({type:et}),t(Object(Me.d)("/login")),e.next=13;break;case 12:throw new Error("Logout is failed");case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),t({type:tt}),console.log("There is a problem with your request: ",e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}())},children:"\u0412\u044b\u0445\u043e\u0434"}),Object(b.jsxs)("div",{className:"text text_type_main-default text_color_inactive ".concat(zt.a.text),children:[Object(b.jsx)("span",{children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435"}),Object(b.jsx)("span",{children:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})]}),Object(b.jsx)("div",{className:"ml-5 ".concat(zt.a.content),children:Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{path:"/profile",exact:!0,component:Ht}),Object(b.jsx)(u.b,{path:"/profile/orders",exact:!0,children:Object(b.jsx)(Xt,{})})]})})]})},Zt=n(23),$t=n.n(Zt),en={done:"#00CCCC",pending:"#F2F2F3",cancel:"#E52B1A"},tn=function(e){var t,n,a,c=e.orderNumber,s=!!Object(u.j)("/feed"),i=N(),o=E((function(e){return e.wsFeed.messages})),d=E((function(e){return e.wsOrders.messages})),j=E((function(e){return e.order.currentOrder})),m=E((function(e){return e.burgerIngredients.ingredients}));if(a=null===(t=s?o:d)||void 0===t||null===(n=t.orders)||void 0===n?void 0:n.find((function(e){return e.number===+c})),Object(r.useEffect)((function(){o||d||i(function(e){return function(){var t=Object(k.a)(R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:ue}),t.prev=1,t.next=4,B(e);case 4:if(!(r=t.sent)||!r.success){t.next=9;break}n({type:le,payload:r.orders[0]}),t.next=10;break;case 9:throw new Error("Response status is not OK");case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),n({type:de}),console.log("There is a problem with your Fetch request",t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[]),j&&(a=j),!a)return Object(b.jsx)(ve,{});var p=a,f=p.name,O=p.number,x=p.createdAt,_=p.status,h=p.ingredients,g=F(m,h),v=U(x),y=T(g),S=null===g||void 0===g?void 0:g.filter((function(e,t){return g.indexOf(e)===t}));return h?Object(b.jsxs)("div",{className:" mb-5 mr-2 ".concat($t.a.order),children:[Object(b.jsx)("div",{className:" pb-6 ".concat($t.a.number),children:Object(b.jsxs)("span",{className:"text text_type_digits-default",children:["#",O]})}),Object(b.jsxs)("div",{className:"mt-6 pb-6 ".concat($t.a.name),children:[Object(b.jsx)("span",{className:"text text_type_main-medium",children:f}),Object(b.jsx)("span",{className:"text text_type_main-default mt-5",style:{color:en[_]},children:_})]}),Object(b.jsxs)("div",{className:"".concat($t.a.info),children:[Object(b.jsx)("span",{className:"text text_type_main-medium ",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(b.jsx)("ul",{className:"mt-6 ".concat($t.a.ingredients),children:null===S||void 0===S?void 0:S.map((function(e,t){return Object(b.jsxs)("li",{className:"mb-4 ".concat($t.a.item),children:[Object(b.jsxs)("div",{className:"".concat($t.a.row),children:[Object(b.jsx)("div",{className:"mr-4 ".concat($t.a.ingredient),children:Object(b.jsx)("img",{src:e.image_mobile,alt:e.name})}),Object(b.jsx)("span",{className:"text text_type_main-default",children:e.name})]}),Object(b.jsxs)("div",{className:"mr-6 ".concat($t.a.price),children:[Object(b.jsxs)("div",{className:"text text_type_digits-default mr-2",children:[e.count," x ",e.price]}),Object(b.jsx)(l.CurrencyIcon,{type:"primary"})]})]},t)}))})]}),Object(b.jsxs)("div",{className:"mt-10 ".concat($t.a.date),children:[Object(b.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:v}),Object(b.jsxs)("div",{className:"text text_type_digits-default ".concat($t.a.price),children:[Object(b.jsx)("div",{className:"mr-2",children:y}),Object(b.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]}):Object(b.jsx)(ve,{})},nn=function(){var e=Object(u.i)().orderNumber;return Object(b.jsx)(tn,{orderNumber:e})},rn=n(114),an=function(e){var t=e.children,n=Object(rn.a)(e,["children"]),a=N(),c=E((function(e){return e.user.email})),s=!!localStorage.getItem("refreshToken"),i=E((function(e){return e.user.getUserRequest}));return Object(r.useEffect)((function(){s&&!c&&a(Ot())}),[]),i&&s&&!c?Object(b.jsx)("div",{style:{width:"100%",height:"80vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(b.jsx)(ve,{})}):Object(b.jsx)(u.b,Object(w.a)(Object(w.a)({},n),{},{render:function(e){var n=e.location;return s?t:Object(b.jsx)(u.a,{to:{pathname:"/login",state:{from:n}}})}}))};var cn=function(){var e=Object(u.h)(),t=Object(u.g)(),n=N(),a=E((function(e){return e.burgerIngredients.isIngredientsLoaded}));Object(r.useEffect)((function(){a||n(function(){var e=Object(k.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Y}),e.prev=1,e.next=4,A();case 4:if(!(n=e.sent)||!n.success){e.next=9;break}t({type:Z,payload:n.data}),e.next=10;break;case 9:throw new Error("Response status is not OK");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),t({type:$}),console.log("There is a problem with your Fetch request",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}),[n,a]);var c=("PUSH"===t.action||"REPLACE"===t.action)&&e.state&&e.state.background;return Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{}),Object(b.jsxs)(u.d,{location:c||e,children:[Object(b.jsx)(u.b,{path:"/",exact:!0,component:He}),Object(b.jsx)(u.b,{path:"/login",exact:!0,component:gt}),Object(b.jsx)(u.b,{path:"/register",exact:!0,component:vt}),Object(b.jsx)(u.b,{path:"/forgot-password",exact:!0,component:yt}),Object(b.jsx)(u.b,{path:"/reset-password",exact:!0,component:Nt}),Object(b.jsx)(u.b,{path:"/feed",exact:!0,component:Gt}),Object(b.jsx)(u.b,{path:"/feed/:orderNumber",exact:!0,component:nn}),Object(b.jsx)(u.b,{path:"/ingredients/:id",exact:!0,component:fe}),Object(b.jsx)(an,{path:"/profile/orders/:orderNumber",exact:!0,children:Object(b.jsx)(nn,{})}),Object(b.jsx)(an,{path:"/profile",children:Object(b.jsx)(Yt,{})}),Object(b.jsx)(u.b,{component:Bt})]}),c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.b,{path:"/ingredients/:id",children:Object(b.jsx)(me,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",children:Object(b.jsx)(fe,{})})}),Object(b.jsx)(u.b,{path:"/feed/:orderNumber",children:Object(b.jsx)(me,{children:Object(b.jsx)(nn,{})})}),Object(b.jsx)(u.b,{path:"/order",exact:!0,children:Object(b.jsx)(me,{children:Object(b.jsx)(ye,{})})}),Object(b.jsx)(an,{path:"/profile/orders/:orderNumber",exact:!0,children:Object(b.jsx)(me,{children:Object(b.jsx)(nn,{})})})]})]})},sn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,210)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},on=n(29),un=n(110),ln=n(103),dn=n(111),jn=n(26),mn={ingredients:[],ingredientsRequest:!1,isIngredientsLoaded:!1,ingredientsFailure:!1},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(w.a)(Object(w.a)({},e),{},{ingredientsRequest:!0});case Z:return Object(w.a)(Object(w.a)({},e),{},{ingredients:t.payload,ingredientsRequest:!1,isIngredientsLoaded:!0,ingredientsFailure:!1});case $:return Object(w.a)(Object(w.a)({},e),{},{ingredientsRequest:!1,ingredientsFailure:!0});default:return e}},pn={orderNumber:null,isOrderInvalid:!1,orderNumberRequest:!1,orderNumberFailure:!1,currentOrder:null,orderRequest:!1,orderFailure:!1,isOrdered:!1},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(w.a)(Object(w.a)({},e),{},{orderNumberRequest:!0});case ce:return Object(w.a)(Object(w.a)({},e),{},{orderNumber:t.payload,orderNumberRequest:!1,orderNumberFailure:!1});case se:return Object(w.a)(Object(w.a)({},e),{},{orderNumberRequest:!1,orderNumberFailure:!0});case oe:return Object(w.a)(Object(w.a)({},e),{},{isOrdered:t.payload,orderNumber:null});case ie:return Object(w.a)(Object(w.a)({},e),{},{isOrderInvalid:t.payload});case ue:return Object(w.a)(Object(w.a)({},e),{},{orderRequest:!0});case le:return Object(w.a)(Object(w.a)({},e),{},{currentOrder:t.payload,orderRequest:!1,orderFailure:!1});case de:return Object(w.a)(Object(w.a)({},e),{},{orderRequest:!1,orderFailure:!0});default:return e}},On=n(63),xn=n(209),_n={burgerStuffing:[],bun:null},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return"bun"===t.payload.type?Object(w.a)(Object(w.a)({},e),{},{bun:t.payload}):Object(w.a)(Object(w.a)({},e),{},{burgerStuffing:[].concat(Object(On.a)(e.burgerStuffing),[{key:Object(xn.a)(),item:t.payload}])});case te:return Object(w.a)(Object(w.a)({},e),{},{burgerStuffing:Object(On.a)(e.burgerStuffing).filter((function(e){return e.key!==t.payload.key}))});case ne:var n=t.payload,r=n.toIndex,a=n.fromIndex,c=Object(On.a)(e.burgerStuffing);return c.splice(r,0,c.splice(a,1)[0]),Object(w.a)(Object(w.a)({},e),{},{burgerStuffing:c});case re:return Object(w.a)(Object(w.a)({},e),{},{burgerStuffing:[],bun:null});default:return e}},gn={email:"",name:"",registrationRequest:!1,registrationFailure:!1,loginRequest:!1,loginFailure:!1,logoutRequest:!1,logoutFailure:!1,getUserRequest:!1,getUserFailure:!1,updateRequest:!1,updateFailure:!1,forgotRequest:!1,forgotSuccess:!1,forgotFailure:!1,resetRequest:!1,resetFailure:!1,tokenRefreshRequest:!1,tokenRefreshSuccess:!1,tokenRefreshFailure:!1},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Object(w.a)(Object(w.a)({},e),{},{registrationRequest:!0,registrationFailure:!1});case We:return Object(w.a)(Object(w.a)({},e),{},{name:t.payload.user.name,email:t.payload.user.email,registrationRequest:!1,registrationFailure:!1});case Ve:return Object(w.a)(Object(w.a)({},e),{},{registrationRequest:!1,registrationFailure:!0});case Xe:return Object(w.a)(Object(w.a)({},e),{},{loginRequest:!0,loginFailure:!1});case Ye:return Object(w.a)(Object(w.a)({},e),{},{name:t.payload.user.name,email:t.payload.user.email,loginRequest:!1,loginFailure:!1});case Ze:return Object(w.a)(Object(w.a)({},e),{},{loginRequest:!1,loginFailure:!0});case $e:return Object(w.a)(Object(w.a)({},e),{},{logoutRequest:!0,logoutFailure:!1});case et:return Object(w.a)(Object(w.a)({},e),{},{name:"",email:"",logoutRequest:!1,logoutFailure:!1});case tt:return Object(w.a)(Object(w.a)({},e),{},{logoutRequest:!1,logoutFailure:!0});case dt:return Object(w.a)(Object(w.a)({},e),{},{getUserRequest:!0,getUserFailure:!1});case jt:return Object(w.a)(Object(w.a)({},e),{},{name:t.payload.user.name,email:t.payload.user.email,getUserRequest:!1,getUserFailure:!1});case mt:return Object(w.a)(Object(w.a)({},e),{},{getUserRequest:!1,getUserFailure:!0});case bt:return Object(w.a)(Object(w.a)({},e),{},{updateRequest:!0,updateFailure:!1});case pt:return Object(w.a)(Object(w.a)({},e),{},{name:t.payload.user.name,email:t.payload.user.email,updateRequest:!1,updateFailure:!1});case ft:return Object(w.a)(Object(w.a)({},e),{},{updateRequest:!1,updateFailure:!0});case nt:return Object(w.a)(Object(w.a)({},e),{},{forgotRequest:!0,forgotSuccess:!1,forgotFailure:!1});case rt:return Object(w.a)(Object(w.a)({},e),{},{forgotRequest:!1,forgotSuccess:!0,forgotFailure:!1});case at:return Object(w.a)(Object(w.a)({},e),{},{forgotRequest:!1,forgotSuccess:!1,forgotFailure:!0});case ct:return Object(w.a)(Object(w.a)({},e),{},{resetRequest:!0,resetFailure:!1});case st:return Object(w.a)(Object(w.a)({},e),{},{resetRequest:!1,resetFailure:!1});case it:return Object(w.a)(Object(w.a)({},e),{},{resetRequest:!1,resetFailure:!0});case ot:return Object(w.a)(Object(w.a)({},e),{},{tokenRefreshRequest:!0,tokenRefreshSuccess:!1,tokenRefreshFailure:!1});case ut:return Object(w.a)(Object(w.a)({},e),{},{tokenRefreshRequest:!1,tokenRefreshSuccess:!0,tokenRefreshFailure:!1});case lt:return Object(w.a)(Object(w.a)({},e),{},{tokenRefreshRequest:!1,tokenRefreshSuccess:!1,tokenRefreshFailure:!0});default:return e}},yn={wsConnected:!1,error:null,messages:null},Nn=Lt.onOpen,En=Lt.onClose,Sn=Lt.onError,Rn=Lt.onMessage,kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nn:return Object(w.a)(Object(w.a)({},e),{},{wsConnected:!0});case Sn:return Object(w.a)(Object(w.a)({},e),{},{error:t.payload,wsConnected:!1});case En:return Object(w.a)(Object(w.a)({},e),{},{wsConnected:!1});case Rn:return Object(w.a)(Object(w.a)({},e),{},{messages:t.payload});default:return e}},wn={wsConnected:!1,error:null,messages:null},Cn=Kt.onOpen,In=Kt.onClose,Tn=Kt.onError,Fn=Kt.onMessage,Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cn:return Object(w.a)(Object(w.a)({},e),{},{wsConnected:!0});case Tn:return Object(w.a)(Object(w.a)({},e),{},{error:t.payload,wsConnected:!1});case In:return Object(w.a)(Object(w.a)({},e),{},{wsConnected:!1});case Fn:return Object(w.a)(Object(w.a)({},e),{},{messages:t.payload});default:return e}},Dn=Object(jn.a)(),qn=Object(on.combineReducers)({router:Object(o.b)(Dn),burgerIngredients:bn,order:fn,burgerConstructor:hn,user:vn,wsOrders:Un,wsFeed:kn}),Ln=function(e,t){return function(n){var r=null;return function(a){return function(c){var s=n.dispatch,i=c.type,o=c.payload,u=t.wsInit,l=t.wsClose,d=t.wsSendMessage,j=t.onOpen,m=t.onClose,b=t.onError,p=t.onMessage;i===u&&((r=new WebSocket("function"===typeof e?e():e)).onopen=function(e){s({type:j,payload:e})},r.onerror=function(e){s({type:b,payload:e})},r.onmessage=function(e){var t=e.data,n=JSON.parse(t);s({type:p,payload:n})},r.onclose=function(e){s({type:m,payload:e})}),l&&i===l&&r&&r.close(),d&&i===d&&r&&r.send(JSON.stringify(o)),a(c)}}}},Gn=Object(on.applyMiddleware)(un.a,Object(ln.a)(Dn),Ln("wss://norma.nomoreparties.space/orders/all",Lt),Ln((function(){var e;return"".concat("wss://norma.nomoreparties.space/orders","?token=").concat(C("token")?null===(e=C("token"))||void 0===e?void 0:e.replace("Bearer ",""):"")}),Kt)),An=Object(on.createStore)(qn,Object(dn.composeWithDevTools)(Gn));s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(i.a,{store:An,children:Object(b.jsx)(o.a,{history:Dn,children:Object(b.jsx)(cn,{})})})}),document.getElementById("root")),sn()},22:function(e,t,n){e.exports={main:"feed-info_main__2iU33",info:"feed-info_info__1GQJ5",numbers:"feed-info_numbers__l47dp",ready:"feed-info_ready__2X6Rh",color:"feed-info_color__350wi",preparing:"feed-info_preparing__Gf5Sb",total:"feed-info_total__31hUk",light:"feed-info_light__34KOx"}},23:function(e,t,n){e.exports={order:"order_order__stKqY",row:"order_row__2Ujkz",info:"order_info__dv1OD",ingredients:"order_ingredients__29iXq",ingredient:"order_ingredient__1iyCa",item:"order_item__1w_48",number:"order_number__39UAz",price:"order_price__39LU_",name:"order_name__gbsM4",date:"order_date__2f1k2"}},24:function(e,t,n){e.exports={main:"profile-page_main__ZZ0RV",menu:"profile-page_menu__1T6Lh",content:"profile-page_content__1C-l0",nav:"profile-page_nav__JgMu0",active:"profile-page_active__39tj6",text:"profile-page_text__18xE_"}},27:function(e,t,n){e.exports={feed_item:"feed-item_feed_item__iOV5m",ingredients:"feed-item_ingredients__25Oep",ingredient:"feed-item_ingredient__3XMhJ",info:"feed-item_info__2qf40",numbers:"feed-item_numbers__1jy95",price:"feed-item_price__3tcOk",name:"feed-item_name__mQSQw"}},30:function(e,t,n){e.exports={header:"app-header_header__3QXCt",menu:"app-header_menu__3lCml",active:"app-header_active__1vqA2",logo:"app-header_logo__1n5J1",nav_div:"app-header_nav_div__1hKta"}},32:function(e,t,n){e.exports={details:"ingredient-details_details__2-ZMQ",nutrition:"ingredient-details_nutrition__z2FU4",item:"ingredient-details_item__fYd_w"}},33:function(e,t,n){e.exports={loading:"loader_loading__1ykC0",dot:"loader_dot__Jdq1u",wave:"loader_wave__DlnuS"}},34:function(e,t,n){e.exports={main:"user-form_main__m3HCj",form:"user-form_form__2ISHO",link:"user-form_link__3nsrZ"}},46:function(e,t,n){e.exports={main:"order-details_main__2a1_D",error_text:"order-details_error_text__1zWgO",shadow:"order-details_shadow__jhh8a"}},47:function(e,t,n){e.exports={menu:"burger-ingredients_menu__1WG8B",container:"burger-ingredients_container__AgGcc",link:"burger-ingredients_link__2eRul",scroll_menu:"burger-ingredients_scroll_menu__4_n5N"}},48:function(e,t,n){e.exports={main:"feed_main__3rniw",link:"feed_link__1zqUC",name:"feed_name__1h1jA",scroll:"feed_scroll__2omXm"}},49:function(e,t,n){e.exports={main:"user-feed_main__1BRCv",link:"user-feed_link__1PUY7",scroll:"user-feed_scroll__3yU3t",loader:"user-feed_loader__2ngrI"}},58:function(e,t,n){e.exports={container:"modal_container__24KkV",inside:"modal_inside__3cPQc",header:"modal_header__2fFNh"}},59:function(e,t,n){e.exports={item:"menu-item_item__xmvPc",price:"menu-item_price__3fyjv",title:"menu-item_title__27pAv"}},61:function(e,t,n){e.exports={main:"feed-page_main__3BLq8",container:"feed-page_container__1D70E",loader:"feed-page_loader__3VKsj"}},62:function(e,t,n){e.exports={notfound_id:"not-found-page_notfound_id__1Yy2H",notfound:"not-found-page_notfound__2kzwh",notfound_404:"not-found-page_notfound_404__1l984"}},86:function(e,t,n){e.exports={main:"user-profile_main__2HATH",button:"user-profile_button__6MGna"}}},[[200,1,2]]]);
//# sourceMappingURL=main.f9b92fbe.chunk.js.map